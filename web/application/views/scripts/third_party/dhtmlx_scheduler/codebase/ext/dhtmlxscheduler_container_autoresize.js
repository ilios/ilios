/*
This software is allowed to use under GPL or you need to obtain Commercial or Enterise License
to use it in non-GPL project. Please contact sales@dhtmlx.com for details
*/
(function(){scheduler.config.container_autoresize=!0;scheduler.config.month_day_min_height=90;var o=scheduler._pre_render_events;scheduler._pre_render_events=function(c,j){if(!scheduler.config.container_autoresize)return o.apply(this,arguments);var g=this.xy.bar_height,i=this._colsS.heights,a=this._colsS.heights=[0,0,0,0,0,0,0],b=this._els.dhx_cal_data[0],c=this._table_view?this._pre_render_events_table(c,j):this._pre_render_events_line(c,j);if(this._table_view)if(j)this._colsS.heights=i;else{var e=
b.firstChild;if(e.rows){for(var d=0;d<e.rows.length;d++){a[d]++;if(a[d]*g>this._colsS.height-22){for(var f=e.rows[d].cells,k=0;k<f.length;k++)f[k].childNodes[1].style.height=a[d]*g+"px";a[d]=(a[d-1]||0)+f[0].offsetHeight}a[d]=(a[d-1]||0)+e.rows[d].cells[0].offsetHeight}a.unshift(0)}else if(!c.length&&this._els.dhx_multi_day[0].style.visibility=="visible"&&(a[0]=-1),c.length||a[0]==-1){var m=e.parentNode.childNodes,l=(a[0]+1)*g+1+"px";b.style.top=this._els.dhx_cal_navline[0].offsetHeight+this._els.dhx_cal_header[0].offsetHeight+
parseInt(l,10)+"px";b.style.height=this._obj.offsetHeight-parseInt(b.style.top,10)-(this.xy.margin_top||0)+"px";var h=this._els.dhx_multi_day[0];h.style.height=l;h.style.visibility=a[0]==-1?"hidden":"visible";h=this._els.dhx_multi_day[1];h.style.height=l;h.style.visibility=a[0]==-1?"hidden":"visible";h.className=a[0]?"dhx_multi_day_icon":"dhx_multi_day_icon_small";this._dy_shift=(a[0]+1)*g;a[0]=0}}return c};var m=["dhx_cal_navline","dhx_cal_header","dhx_multi_day","dhx_cal_data"],n=function(c){for(var f=
0,g=0;g<m.length;g++){var i=m[g],a=scheduler._els[i]?scheduler._els[i][0]:null,b=0;switch(i){case "dhx_cal_navline":case "dhx_cal_header":b=parseInt(a.style.height,10);break;case "dhx_multi_day":b=a?a.offsetHeight:0;b==1&&(b=0);break;case "dhx_cal_data":var b=Math.max(a.offsetHeight-1,a.scrollHeight),e=scheduler.getState().mode;if(e=="month"){if(scheduler.config.month_day_min_height&&!c)var d=a.getElementsByTagName("tr").length,b=d*scheduler.config.month_day_min_height;if(c)a.style.height=b+"px"}if(scheduler.matrix&&
scheduler.matrix[e])c?(b+=2,a.style.height=b+"px"):b=scheduler.matrix[e].y_unit.length*scheduler.matrix[e].dy+2;if(e=="day"||e=="week")b+=2}f+=b}scheduler._obj.style.height=f+"px";c||scheduler.updateView()},f=function(){var c=scheduler.getState().mode;n();(scheduler.matrix&&scheduler.matrix[c]||c=="month")&&window.setTimeout(function(){n(!0)},1)};scheduler.attachEvent("onViewChange",f);scheduler.attachEvent("onXLE",f);scheduler.attachEvent("onEventChanged",f);scheduler.attachEvent("onAfterSchedulerResize",
f)})();
